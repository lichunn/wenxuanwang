"use strict";function draw(o){var a=$("#canvas").width(),t=$("#canvas").height(),r=document.getElementById("canvas"),n=r.getContext("2d");r.width=a,r.height=t;for(var e="a,b,c,d,e,f,g,h,i,j,k,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0".split(","),l=e.length,h=0;h<4;h++){var d=Math.floor(Math.random()*l),s=Math.random()-.5,m=e[d];o[h]=m.toLowerCase();var i=10+20*h,c=20+8*Math.random();n.font="bold 23px 微软雅黑",n.translate(i,c),n.rotate(s),n.fillStyle=randomColor(),n.fillText(m,0,0),n.rotate(-s),n.translate(-i,-c)}for(h=0;h<=5;h++)n.strokeStyle=randomColor(),n.beginPath(),n.moveTo(Math.random()*a,Math.random()*t),n.lineTo(Math.random()*a,Math.random()*t),n.stroke();for(h=0;h<=30;h++){n.strokeStyle=randomColor(),n.beginPath();i=Math.random()*a,c=Math.random()*t;n.moveTo(i,c),n.lineTo(i+1,c+1),n.stroke()}}function randomColor(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}$(function(){var t=[];draw(t),$("#canvas").on("click",function(){draw(t)}),$(".input-val").on("blur",function(){var o=$(".input-val").val().toLowerCase(),a=t.join("");""==o?$(".show").html("请输入验证码 ").css("color","red"):o==a?$(".show").html("验证码正确 ").css("color","green"):($(".show").html("验证码错误！请重新输入！ ").css("color","red"),$(".input-val").val(""))})});